


<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://wiki.abookworm.site/250%20Working%20Coding%20Python/Python%20Basics/Python%20Basics/">
      
      
        <meta name="author" content="Aaron Loong">
      
      <link rel="shortcut icon" href="/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.3">
    
    
      
        <title>Python 基础课程 - Abookworm's Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://wiki.abookworm.site" title="Abookworm's Wiki" class="md-header-nav__button md-logo" aria-label="Abookworm's Wiki">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Abookworm's Wiki
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Python 基础课程
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/abookworm-site/AarWiki/" title="前往 GitHub 仓库" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    abookworm-site/AarWiki
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://wiki.abookworm.site" title="Abookworm's Wiki" class="md-nav__button md-logo" aria-label="Abookworm's Wiki">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Abookworm's Wiki
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/abookworm-site/AarWiki/" title="前往 GitHub 仓库" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    abookworm-site/AarWiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="AarWiki Home" class="md-nav__link">
      AarWiki Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../100%20WorkSpace/" title="100 WorkSpace" class="md-nav__link">
      100 WorkSpace
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      250 Working Coding
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="250 Working Coding" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        250 Working Coding
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/" title="an-Overview" class="md-nav__link">
      an-Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Computer%20System/Java%20%E7%A8%8B%E5%BA%8F%E5%91%98%E6%8E%8C%E6%8F%A1%E7%9A%84%E7%B3%BB%E7%BB%9F%E5%BA%95%E5%B1%82%E7%9F%A5%E8%AF%86/" title="操作系统底层" class="md-nav__link">
      操作系统底层
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      数据库操作系统
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="数据库操作系统" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        数据库操作系统
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Database%20System/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Database%20System/MySQL/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Database%20System/Oracle/" title="Oracle" class="md-nav__link">
      Oracle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Database%20System/Redis/" title="Redis" class="md-nav__link">
      Redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Database%20System/MongoDB/" title="MongoDB" class="md-nav__link">
      MongoDB
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      工作环境配置
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="工作环境配置" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        工作环境配置
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Environment%20Settings/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Git%20%26%20Github%20%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86/Git%20%26%20Github/" title="Git & Github 代码管理" class="md-nav__link">
      Git & Github 代码管理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Docker 与 K8s 容器技术
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Docker 与 K8s 容器技术" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Docker 与 K8s 容器技术
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Docker%20%26%20K8s%20%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Docker%20%26%20K8s%20%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/Docker%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" title="Docker 最佳实践" class="md-nav__link">
      Docker 最佳实践
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Docker%20%26%20K8s%20%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/Kubernetes%28K8s%29%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" title="Kubernetes(K8s) 最佳实践" class="md-nav__link">
      Kubernetes(K8s) 最佳实践
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding/Front-end%20Programming/" title="前端编程" class="md-nav__link">
      前端编程
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding%20C/" title="------ Working Coding C" class="md-nav__link">
      ------ Working Coding C
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../250%20Working%20Coding%20Java/" title="------ Working Coding Java" class="md-nav__link">
      ------ Working Coding Java
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      ------ Working Coding Python
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="------ Working Coding Python" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        ------ Working Coding Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="an-Overview" class="md-nav__link">
      an-Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="语言基础" class="md-nav__link">
      语言基础
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Network%20Programming/" title="网络编程" class="md-nav__link">
      网络编程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Database%20Interaction/" title="数据库交互" class="md-nav__link">
      数据库交互
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      各开发框架
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="各开发框架" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        各开发框架
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Framework/Django/" title="Django" class="md-nav__link">
      Django
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Framework/Flask/" title="Flask" class="md-nav__link">
      Flask
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      260 Working Operating System
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="260 Working Operating System" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        260 Working Operating System
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../260%20Working%20Operating%20System/" title="an-Overview" class="md-nav__link">
      an-Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../260%20Working%20Operating%20System/Linux%20System/Linux%20Overall/" title="Linux System" class="md-nav__link">
      Linux System
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      310 Learning English
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="310 Learning English" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        310 Learning English
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../310%20Learning%20Language/an-Overview%20of%20English%20Learning/" title="an-Overview" class="md-nav__link">
      an-Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../message/" title="读者信箱" class="md-nav__link">
      读者信箱
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      目录
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    一、语言介绍
  </a>
  
    <nav class="md-nav" aria-label="一、语言介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    Python简介
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    网工需要Python:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    Python 全景视图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    二、环境安装
  </a>
  
    <nav class="md-nav" aria-label="二、环境安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_4" class="md-nav__link">
    Python代码运行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#winscp" class="md-nav__link">
    WinSCP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    三、内置类型：数字
  </a>
  
    <nav class="md-nav" aria-label="三、内置类型：数字">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1. 内置对象
  </a>
  
    <nav class="md-nav" aria-label="1. 内置对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2. 基本数字常量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    内建数学工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2. 表达式操作符
  </a>
  
    <nav class="md-nav" aria-label="2. 表达式操作符">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    表达式操作符优先级
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    运算总结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    四、内置类型：字符串与正则表达式
  </a>
  
    <nav class="md-nav" aria-label="四、内置类型：字符串与正则表达式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    对象分类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    字符串常量与表达式
  </a>
  
    <nav class="md-nav" aria-label="字符串常量与表达式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    字符串常量
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    字符串常量与表达式汇总
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    字符串方法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    正则表达式
  </a>
  
    <nav class="md-nav" aria-label="正则表达式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    简介
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    1. 转义字符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    2. 多种字符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 自定义多种字符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    4. 匹配次数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5. 代表抽象意义
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6. 表达式关系
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    五、内置类型：列表与字典
  </a>
  
    <nav class="md-nav" aria-label="五、内置类型：列表与字典">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    列表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    字典
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    六、内置类型：元组与文件
  </a>
  
    <nav class="md-nav" aria-label="六、内置类型：元组与文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    文件
  </a>
  
    <nav class="md-nav" aria-label="文件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#struct" class="md-nav__link">
    使用 struct 处理二进制
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    七、语句和语法：赋值
  </a>
  
    <nav class="md-nav" aria-label="七、语句和语法：赋值">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_5" class="md-nav__link">
    Python 语句
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    八、语句和语法：打印
  </a>
  
    <nav class="md-nav" aria-label="八、语句和语法：打印">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python30-print" class="md-nav__link">
    Python3.0 Print函数
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if" class="md-nav__link">
    九、语句和语法：if 语句
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whilefor" class="md-nav__link">
    十、语句和语法：while``for循环
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_6" class="md-nav__link">
    十一、Python函数
  </a>
  
    <nav class="md-nav" aria-label="十一、Python函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    What
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    函数相关的语句和表达式
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_7" class="md-nav__link">
    十二、Python模块
  </a>
  
    <nav class="md-nav" aria-label="十二、Python模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    why
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    模块搜索路径
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_8" class="md-nav__link">
    十三、Python类
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_9" class="md-nav__link">
    十四、Python多线程与多进程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_10" class="md-nav__link">
    十五、Python异常处理
  </a>
  
    <nav class="md-nav" aria-label="十五、Python异常处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tryexceptelse" class="md-nav__link">
    try/except/else 语句
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/abookworm-site/AarWiki/edit/master/docs/250 Working Coding Python/Python Basics/Python Basics.md" title="编辑此页" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="python">Python 基础课程<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<h2 id="_1">一、语言介绍<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="python_1">Python简介<a class="headerlink" href="#python_1" title="Permanent link">&para;</a></h3>
<ol>
<li>脚本语言，无需编译</li>
<li>内置标准库 &amp; 丰富的第三方库</li>
<li>可移植性好，开源</li>
</ol>
<h3 id="python_2">网工需要Python:<a class="headerlink" href="#python_2" title="Permanent link">&para;</a></h3>
<ul>
<li>云，SDN来袭，Openstack是Python写的</li>
<li>自动化脚本</li>
</ul>
<h3 id="python_3">Python 全景视图<a class="headerlink" href="#python_3" title="Permanent link">&para;</a></h3>
<p>Python programs can be decomposed(拆解) into modules, statements(语句), expression and objects as follows:</p>
<ul>
<li>
<p>Programs are composed of modules</p>
<ul>
<li><code>from scapy.all import *</code></li>
<li><code>import time</code></li>
</ul>
</li>
<li>
<p>Modules contain statements</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="n">ping_result</span> <span class="o">=</span> <span class="n">ping_one</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">id_no</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ping_result</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;...  &quot;</span><span class="p">)</span>
</code></pre></div>

</li>
<li>
<p>Statements contain expressions</p>
<div class="highlight"><pre><span></span><code><span class="n">reply_data</span> <span class="o">=</span> <span class="n">ping_one_reply</span><span class="o">.</span><span class="n">getlayer</span><span class="p">(</span><span class="n">Raw</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="c1"># 提取信息</span>
<span class="n">receive</span> <span class="n">time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</code></pre></div>

</li>
<li>
<p>Expressions create and process objects</p>
</li>
</ul>
<h2 id="_2">二、环境安装<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="python_4">Python代码运行<a class="headerlink" href="#python_4" title="Permanent link">&para;</a></h3>
<ol>
<li>文件表头
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># coding=utf-8</span>
</code></pre></div></li>
<li>
<p>首先需要确认 <code>python3</code> 路径：<code>whereis python3</code> or <code>which python3</code></p>
<ul>
<li><code>whereis</code> 命令会列出所有python3相关的文件版本：/usr/bin/python3.6</li>
<li><code>which</code>仅仅获取 <code>python3</code> 文件路径</li>
</ul>
</li>
<li>
<p>运行方式：</p>
</li>
<li><code>python3 filename.py</code></li>
<li>./filename.py<ul>
<li>此种方式需要添加文件的执行权限：<code>chmod +x filename.py</code></li>
</ul>
</li>
</ol>
<h3 id="winscp">WinSCP<a class="headerlink" href="#winscp" title="Permanent link">&para;</a></h3>
<ol>
<li>使用WinSCP可以直接连接 Linux 系统，而后通过 Windows 系统程序打开文件。</li>
<li>如果通过 WinSCP 新建文件时，会导致文件末尾的编码问题。解决如下：<ul>
<li>安装Dos2Unix： <code>yum install -y dos2unix</code></li>
<li>转码：<code>dos2unix filename.py</code></li>
</ul>
</li>
</ol>
<h2 id="_3">三、内置类型：数字<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h3 id="1">1. 内置对象<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p>1, 内置对象特点</p>
<ul>
<li>Built-in objects make programs easy to write</li>
<li>Built-in object are components of extensions</li>
<li>Built-in object are often more efficient than custom data structures</li>
<li>Built-in objects are a standard part of the language.</li>
</ul>
<p>2, 内置对象类型</p>
<p><img alt="image-20200620011924473" src="../_resource/Python%20Basics/image-20200620011924473.png" /></p>
<p>对象分类</p>
<table>
<thead>
<tr>
<th>Object type</th>
<th>Category</th>
<th>Mutable？</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numbers（all）</td>
<td>Numeric - 数值</td>
<td>No</td>
</tr>
<tr>
<td>Strings(all)</td>
<td>Sequence</td>
<td>No</td>
</tr>
<tr>
<td>Lists</td>
<td>Sequence</td>
<td>Yes</td>
</tr>
<tr>
<td>Dictionaries</td>
<td>Mapping - 映射</td>
<td>Yes</td>
</tr>
<tr>
<td>Tuples</td>
<td>Sequence</td>
<td>No</td>
</tr>
<tr>
<td>Files</td>
<td>Extension - 扩展</td>
<td>N/A</td>
</tr>
<tr>
<td>Sets</td>
<td>Set - 集合</td>
<td>Yes</td>
</tr>
<tr>
<td>Frozenset</td>
<td>Set</td>
<td>No</td>
</tr>
<tr>
<td>bytearray</td>
<td>Sequence</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h4 id="2">2. 基本数字常量<a class="headerlink" href="#2" title="Permanent link">&para;</a></h4>
<p><img alt="image-20200620005201092" src="../_resource/Python%20Basics/image-20200620005201092.png" /></p>
<h4 id="_4">内建数学工具<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Expression operators(表达式操作符)</p>
<ul>
<li><code>+ - * /</code></li>
<li><code>&gt;&gt;</code> <code>&lt;&lt;</code> <code>!</code></li>
<li><code>**</code></li>
<li><code>&amp;</code>：位操作与</li>
<li><code>and</code> ： 逻辑且</li>
<li><code>|</code>: 位操作或</li>
<li><code>or</code>：逻辑或</li>
<li><code>not</code>：逻辑非</li>
</ul>
</li>
<li>
<p>Built-in mathematical functions(内建数学函数)</p>
<ul>
<li><code>pow()</code> -</li>
<li><code>abs()</code></li>
<li><code>round()</code></li>
<li><code>int()</code></li>
<li><code>hex()</code></li>
</ul>
</li>
<li>
<p>Utility modules(工具模块)</p>
<ul>
<li><code>random</code></li>
<li><code>math</code></li>
</ul>
</li>
</ul>
<h3 id="2_1">2. 表达式操作符<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h3>
<p><img alt="image-20200620004839133" src="../_resource/Python%20Basics/image-20200620004839133.png" /></p>
<h4 id="_5">表达式操作符优先级<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<ul>
<li>Operators lower in the table have higher precedence，and so bind more tightly in mixed expressions.（表中越靠后，优先级越高）</li>
<li>Operators <strong>in the same row</strong> in Table generally group from <strong>left to right</strong> when combined（except for exponentiation，which groups right to left，and comparisons，which chain left to right）.（位于同一行的表达式在组合的时候通常从左至右组合）</li>
</ul>
<blockquote>
<p>x&lt;y&lt;z（从左往右算）True</p>
</blockquote>
<h4 id="_6">运算总结<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>四则运算</p>
</li>
<li>
<p>逻辑与或非，三元选择表达式</p>
<ul>
<li><code>1 or 2</code> vs <code>1 and 0</code> 两者判断的终止位置不同</li>
<li>比较运算</li>
<li><code>is</code></li>
<li><code>is not</code></li>
</ul>
</li>
<li>
<p>除法运算与求余数</p>
<ul>
<li>真除法</li>
<li>Floor除法：<code>10//4 = 2</code></li>
<li>求余数： <code>10%4</code></li>
</ul>
</li>
<li>
<p>类型转换</p>
<ul>
<li>整数 vs 浮点数</li>
<li><code>oct()</code> <code>hex()</code> <code>bin()</code></li>
</ul>
</li>
<li>
<p>内置数学函数模块</p>
<ul>
<li><code>abs()</code> <code>max()</code> </li>
</ul>
</li>
<li>
<p>随机数</p>
<div class="highlight"><pre><span></span><code>import random

random.random()
random.randint(1, 65535)
random.randint(1023, 65535)
random.choice([&quot;中国&quot;, &quot;韩国&quot;, &quot;美国&quot;, &quot;家&quot;])

IP = str(random.randint(1, 255))+&#39;.&#39;+str(random.randint(1, 255))+&#39;.&#39;+str(random.randint(1, 255))+&#39;.&#39;+str(random.randint(1, 255))
</code></pre></div>

</li>
</ol>
<h2 id="_7">四、内置类型：字符串与正则表达式<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<h3 id="_8">对象分类<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Object type</th>
<th>Category</th>
<th>Mutable？</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numbers（all）</td>
<td>Numeric - 数值</td>
<td>No</td>
</tr>
<tr>
<td>Strings(all)</td>
<td>Sequence</td>
<td>No</td>
</tr>
<tr>
<td>Lists</td>
<td>Sequence</td>
<td>Yes</td>
</tr>
<tr>
<td>Dictionaries</td>
<td>Mapping - 映射</td>
<td>Yes</td>
</tr>
<tr>
<td>Tuples</td>
<td>Sequence</td>
<td>No</td>
</tr>
<tr>
<td>Files</td>
<td>Extension - 扩展</td>
<td>N/A</td>
</tr>
<tr>
<td>Sets</td>
<td>Set - 集合</td>
<td>Yes</td>
</tr>
<tr>
<td>Frozenset</td>
<td>Set</td>
<td>No</td>
</tr>
<tr>
<td>bytearray</td>
<td>Sequence</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="_9">字符串常量与表达式<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p><img alt="image-20200620012634050" src="../_resource/Python%20Basics/image-20200620012634050.png" /></p>
<h4 id="_10">字符串常量<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<ul>
<li>Single quotes: <code>'spam'</code></li>
<li>Double quotes: <code>"spam"</code></li>
<li>Triple quotes: """... spam..."""</li>
<li>Escape sequences(转意符): "s\tp\na\0m"</li>
<li>Raw strings（原始字符串）:r"c:\new\test.spm"</li>
<li>Bytes literals in 3.x and 2.6+(字节字符串: ASCII字符会被自动转码)：b'sp\x01am'</li>
</ul>
<h4 id="_11">字符串常量与表达式汇总<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>单双引号都一样</p>
<ul>
<li><code>'collins\''</code></li>
<li>三引号字符串</li>
<li>可换行的连续字符串，有<code>\n</code></li>
<li><code>print(s)</code> 调用，保留原始换行</li>
</ul>
</li>
<li>
<p>字符串反斜杠字符</p>
<p><img alt="image-20200620001727161" src="../_resource/Python%20Basics/image-20200620001727161.png" /></p>
<ul>
<li><code>\t</code>: 制表符</li>
<li><code>\r</code> &amp; <code>\n</code><ul>
<li>Unix: 每行结尾是 “&lt;换行&gt;”</li>
<li>Win: 每行结尾是 “&lt;换行&gt;&lt;回车&gt;”</li>
<li>Mac: 每行结尾是"&lt;回车&gt;"</li>
<li>三者之间需要工具转换：<code>dos2unix</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Raw 字符串抑制转移</p>
<ul>
<li>
<p>Windows: <code>r'c:\Users\aaron\</code></p>
</li>
<li>
<p>字符串 <code>+</code> &amp; <code>*</code> 操作：复制</p>
</li>
<li>
<p><code>"a" in mystr</code></p>
</li>
</ul>
</li>
<li>
<p>索引与切片</p>
<p>​   <img alt="image-20200620003542647" src="../_resource/Python%20Basics/image-20200620003542647.png" /></p>
<ul>
<li><code>s[i:j]</code>: 包含<code>i</code>，不含<code>j</code></li>
<li><code>s[:]</code>: 实现了完全顶层的序列对象拷贝，对不可变的字符串对象意义不大</li>
<li>文件列表判断格式：str = "abcdef.txt" 后缀为：str[-3:]</li>
</ul>
</li>
<li>
<p>字符串转换工具</p>
<ul>
<li><code>str()</code> &amp; <code>int()</code><ul>
<li>s = '42' &amp;&amp; int(s) + 2</li>
<li>str(2) + 'years old'</li>
</ul>
</li>
<li>字符串是不可变类型，不支持原地修改：<ul>
<li>Wrong: s[3] = 'A'</li>
<li>Right: s[:3] + 'A' + s[4:]</li>
</ul>
</li>
</ul>
</li>
<li>
<p>字符串方法</p>
</li>
</ol>
<h3 id="_12">字符串方法<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p><img alt="image-20200620003153439" src="../_resource/Python%20Basics/image-20200620003153439.png" /></p>
<ul>
<li>字符串不可修改：</li>
</ul>
<div class="highlight"><pre><span></span><code>    # 替换操作
    s = &quot;Welcome to ShenZhe&quot;
    b = s.replaece(&quot;Baoan&quot;, &quot;ShenZhe&quot;)

    # 查找
    s.find(&quot;to&quot;)


​    
​    # 大小写
​    us = s.upper()
​    ls = s.lower()
​    
​    # 剥除
​    s = &quot;\n\twelcome to Shenzhen\n\r&quot;
​    s.strip()
​    s.ltrip()
​    s.rtrip()
​    
    shen = list(q)

    # 连接
    &quot; &quot;.join(arraylist)
</code></pre></div>

<p>​    </p>
<p>字符串格式化表达式与方法</p>
<ul>
<li>
<p>String formatting expressions: <code>"...%s..." % (values)</code>字符串格式化表达式（传统技术）</p>
<p>The original technique available since Python's inception，this form is based upon the C language's “printf"
model，and sees widespread use in much existing code.</p>
</li>
<li>
<p>String formatting method calls: <code>"...{}...".format(values)</code> 字符串格式化方法（新方法）</p>
<p>A newer technique added in Python 2.6 and 3.0，this form is derived in part from a same-named tool in C#/.NET，and overlaps with string formatting expression functionality.</p>
</li>
</ul>
<p>字符串格式化表达式完整语法：</p>
<p><code>%[(keyname)][flags][width]typecode</code></p>
<ul>
<li>Provide a key name for indexing the dictionary used on the right side of the expression<ul>
<li>放置一个字典键</li>
</ul>
</li>
<li>List flags that specify things like left justification(-)，numeric sign(+)，a blank before positive numbers and a-for negatives（a space），and zero fills(0)<ul>
<li>左对齐（-）右对齐（+）补零（0））</li>
</ul>
</li>
<li>Give a total minimum field width for the substituted text<ul>
<li>整体长度</li>
</ul>
</li>
<li>Set the number of digits（precision）to display after a decimal point for floatingpoint numbers<ul>
<li>小数点后的位数</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code>x = 1234
res = &quot;integers: ...%d...%-10d...%10d...%010d&quot; % (x, x, x, x)

x = 1.2345678
k = &quot;%-6.2f | %05.2f | %+06.1f&quot; % (x, x, x)

print(&quot;%-10s 1\n%-10s 2\n%-10s 3&quot;)

print(&#39;%-10s 1\n%-10s 2\n%-10s 3&#39; % (&#39;python&#39;, &#39;java&#39;, &#39;c&#39;))
</code></pre></div>

<p>字符串格式化方法格式介绍</p>
<p><code>{fildname comonent !conversionflag :foratespec}</code></p>
<ul>
<li>Fieldname 指定参数的一个数字或关键字，后面跟着可选的<code>name</code>或者 <code>[index]</code>成分引用。</li>
<li>Conversionflag 可以是r，s，或者a分别是在该值上对repr，str或 <code>ascii</code> 内置函数的一次调用。</li>
<li>Formatspec 指定了如何表示该值，包括字段宽度、对齐方式、补零、小数点精度等细节、并且以一个可选的数字类型编码
    结束。<ul>
<li><code>[[fill]align][sign][#][o][width][，][.precision][typecode]</code></li>
<li>Align可能是&lt;、&gt;、= 或 ^，分别表示左对齐、右对齐、一个标记字符串后的补充或居中对齐。</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="mf">3.1415926</span>
<span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="n">tmp</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1">, </span><span class="si">{1}</span><span class="s1"> and </span><span class="si">{2}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="s1">&#39;c/c++&#39;</span><span class="p">)</span>
<span class="c1"># Out: &#39;python, java and c/c++&#39;</span>

<span class="n">tmp</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{python}</span><span class="s1">, </span><span class="si">{java}</span><span class="s1"> and {c/c++}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">python</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">java</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">/</span><span class="n">c</span><span class="o">++=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># Out: &#39;1, 2 and 3&#39;</span>

<span class="s2">&quot;</span><span class="si">{0:10}</span><span class="s2">, </span><span class="si">{1:10}</span><span class="s2"> and </span><span class="si">{2:10}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="s1">&#39;c/c++&#39;</span><span class="p">)</span>

<span class="s2">&quot;</span><span class="si">{0:&gt;10}</span><span class="s2">, </span><span class="si">{1:&lt;10}</span><span class="s2"> and </span><span class="si">{2:10}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="s1">&#39;c/c++&#39;</span><span class="p">)</span>

<span class="s2">&quot;</span><span class="si">{0:&gt;10}</span><span class="s2">, </span><span class="si">{1:&lt;10}</span><span class="s2"> and </span><span class="si">{2:^10}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;java&quot;</span><span class="p">,</span> <span class="s2">&quot;c/c++&quot;</span><span class="p">)</span>
<span class="c1"># Out: &#39;     pythonjava      and      c/c++&#39;</span>

<span class="n">x</span> <span class="o">=</span> <span class="mf">3.1415926</span>
<span class="s1">&#39;</span><span class="si">{0:f}</span><span class="s1">, </span><span class="si">{1:.2f}</span><span class="s1">, {2:0.6.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="c1"># Out: &#39;3.141593, 3.14, 003.14&#39;</span>


<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="o">.</span><span class="n">platform</span>
<span class="c1"># Out:&#39;win32&#39;</span>

<span class="s2">&quot;</span><span class="si">{0.platform:&gt;10}</span><span class="s2"> = {1[kind]：&lt;10}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">})</span>
<span class="c1"># Out: &#39;      win32 = laptop&#39;</span>
</code></pre></div>

<h3 id="_13">正则表达式<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<h4 id="_14">简介<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p>参考链接：</p>
<p><a href="http://www.regexlab.com/zh/regref.htm">http://www.regexlab.com/zh/regref.htm</a></p>
<p><a href="https://zh.wikipedia.org/wiki/正则表达式">https://zh.wikipedia.org/wiki/正则表达式</a></p>
<h4 id="1_1">1. 转义字符<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\r, \n</code></td>
<td>回车和换行符</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>制表符</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>代表 ”\“ 本身</td>
</tr>
<tr>
<td><code>\^</code></td>
<td>匹配 ^ 符号本身</td>
</tr>
<tr>
<td><code>\$</code></td>
<td>匹配 $ 符号本身</td>
</tr>
<tr>
<td><code>\.</code></td>
<td>匹配小数点(.)本身</td>
</tr>
</tbody>
</table>
<h4 id="2_2">2. 多种字符<a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>\d</td>
<td>任意一个数字，0～9中的任意一个</td>
</tr>
<tr>
<td>\w</td>
<td>任意一个字母或数字或下划线，也就是<code>A~Z，a~z，0～9, _</code>中任意一个</td>
</tr>
<tr>
<td>\s</td>
<td>包括空格、制表符、换页符等空白字符的其中任意一个</td>
</tr>
<tr>
<td>.</td>
<td>匹配除了换行符（\n）以外的任意一个字符</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;cmd\.exe&#39;</span><span class="p">,</span> <span class="s1">&#39;chdaexe&#39;</span><span class="p">)</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;\d{1, 3}\.\d{1, 3}\.\d{1, 3}\.\d{1, 3}&#39;</span><span class="p">,</span> <span class="n">ipstr</span><span class="p">)</span>
</code></pre></div>

<h4 id="3">3. 自定义多种字符<a class="headerlink" href="#3" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>可匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>[ab5@]</td>
<td>匹配 “a” 或 "b“ 或 “5“ 或 “@”</td>
</tr>
<tr>
<td>[^abc]</td>
<td>匹配 “a”."b"."c” 之外的任意一个字符</td>
</tr>
<tr>
<td>[f-k]</td>
<td>匹配 “f“ ~ “k” 之间的任意一个字母</td>
</tr>
<tr>
<td>[^A-F0-3]</td>
<td>匹配 “A"<sub>“F，“0”</sub>"3”之外的任意一个字符</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># 匹配Mac地址</span>
<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;[0-9a-fA-F]</span><span class="si">{2}</span><span class="s1">-[0-9a-fA-F]</span><span class="si">{2}</span><span class="s1">-[0-9a-fA-F]</span><span class="si">{2}</span><span class="s1">-[0-9a-fA-F]</span><span class="si">{2}</span><span class="s1">-[0-9a-fA-F]</span><span class="si">{2}</span><span class="s1">-[0-9a-fA-F]</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">mac_address</span><span class="p">)</span>
</code></pre></div>

<h4 id="4">4. 匹配次数<a class="headerlink" href="#4" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>{n}</td>
<td>表达式重复n次，比如："\w{21}” 相当于 "\W\w"；"a{5}” 相当于“aaaaa”</td>
</tr>
<tr>
<td>{m, n}</td>
<td>表达式至少重复m次，最多重夏n次，比如：引 “ba{1,3}" 可以匹配 "ba” 或 “baa” 或 “baaa"</td>
</tr>
<tr>
<td>{m, }</td>
<td>表达式至少重复m次，比如："\w\d{2,}“ 可以匹配 “a12", "456", "M12344"</td>
</tr>
<tr>
<td>?</td>
<td>匹配表达式0次或者1次，相当于{0, 1}，比如：“a[cd]?“ 可以匹配 “a”, "ac", "ad”</td>
</tr>
<tr>
<td>+</td>
<td>表达式至少出现1次，相当于 {1, }，比如：”a+b" 可以匹配 "ab"，"aab", "aaab"</td>
</tr>
<tr>
<td>*</td>
<td>表达式不出现或出现任意次，相当于{0, }，比如："^*b“ 可以匹配 “b”, "<sup>^</sup>b"</td>
</tr>
</tbody>
</table>
<h4 id="5">5. 代表抽象意义<a class="headerlink" href="#5" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>与字符串开始的地方匹配，不匹配任何字符</td>
</tr>
<tr>
<td>$</td>
<td>与字符串结束的地方匹配，不匹配任何字符</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界，也就是单词和空格之间的位置，不匹配任何字符</td>
</tr>
</tbody>
</table>
<h4 id="6">6. 表达式关系<a class="headerlink" href="#6" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>作用</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>|</td>
<td>左右两边表达式之间“或“关系，匹配左边或者右边</td>
<td></td>
</tr>
<tr>
<td>()</td>
<td>1）在被修饰匹配次数的时候，括号中的表达式可以作为整体被修饰<br>2）取匹配结果的时候，括号中的表达式匹配到的内容可以被单独得到</td>
<td></td>
</tr>
</tbody>
</table>
<p>split/sub</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;---&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa---bbb---ccc&quot;</span><span class="p">)</span>
<span class="c1"># Out: [&quot;aaa&quot;, &quot;bbb&quot;, &quot;cccc&quot;]</span>

<span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;---|===&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa---bbb===ccc&quot;</span><span class="p">)</span>
<span class="c1"># Out: [&quot;aaa&quot;, &quot;bbb&quot;, &quot;cccc&quot;]</span>

<span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;[-=]&#39;</span><span class="p">,</span> <span class="s1">&#39;aaa-bbb=ccc&#39;</span><span class="p">)</span>
<span class="c1"># Out: [&quot;aaa&quot;, &quot;bbb&quot;, &quot;cccc&quot;]</span>

<span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;aaa--bbb--ccc&quot;</span><span class="p">)</span>
<span class="c1"># Out: &quot;aaa...bbb...ccc&quot;</span>
</code></pre></div>

<p>groups()</p>
<div class="highlight"><pre><span></span><code><span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;python/java/c/c++&quot;</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(.*)/(.*)/(.*)/(.*)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># Out:(&#39;python&#39;, &#39;java&#39;, &#39;c&#39;, &#39;c++&#39;)</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(\w+)/(\w+)/(\w+)/(.*)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># Out:(&#39;python&#39;, &#39;java&#39;, &#39;c&#39;, &#39;c++&#39;)</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(\w+)/(\w+)/(\w+)/(\w+)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># Out:(&#39;python&#39;, &#39;java&#39;, &#39;c&#39;, &#39;c&#39;)</span>

<span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(\w</span><span class="si">{6}</span><span class="s1">)/(\w</span><span class="si">{4}</span><span class="s1">)/(\w</span><span class="si">{1}</span><span class="s1">)/(\w</span><span class="si">{1}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># Out:(&#39;python&#39;, &#39;java&#39;, &#39;c&#39;, &#39;c&#39;)</span>

<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;(?P&lt;part1&gt;\w</span><span class="si">{6}</span><span class="s1">)/(?P&lt;part2&gt;\w</span><span class="si">{4}</span><span class="s1">)/(?P&lt;part3&gt;\w</span><span class="si">{1}</span><span class="s1">)/(?P&lt;part4&gt;.*)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># Out:(&#39;python&#39;, &#39;java&#39;, &#39;c&#39;, &#39;c++&#39;)</span>

<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;(?P&lt;part1&gt;\w</span><span class="si">{6}</span><span class="s1">)/(?P&lt;part2&gt;\w</span><span class="si">{4}</span><span class="s1">)/(?P&lt;part3&gt;\w</span><span class="si">{1}</span><span class="s1">)/(?P&lt;part4&gt;.*)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Out: &#39;java&#39;</span>

<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;(?P&lt;part1&gt;\w</span><span class="si">{6}</span><span class="s1">)/(?P&lt;part2&gt;\w</span><span class="si">{4}</span><span class="s1">)/(?P&lt;part3&gt;\w</span><span class="si">{1}</span><span class="s1">)/(?P&lt;part4&gt;.*)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;part2&#39;</span><span class="p">)</span>
<span class="c1"># Out: &#39;java&#39;</span>

<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;(?P&lt;part1&gt;\w</span><span class="si">{6}</span><span class="s1">)/(?P&lt;part2&gt;\w</span><span class="si">{4}</span><span class="s1">)/(?P&lt;part3&gt;\w</span><span class="si">{1}</span><span class="s1">)/(?P&lt;part4&gt;.*)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span>
<span class="c1"># Out: {&#39;part1&#39;: &#39;python&#39;, &#39;part2&#39;: &#39;java&#39;, &#39;part3&#39;: &#39;c&#39;, &#39;part4&#39;: &#39;c++&#39;}</span>
</code></pre></div>

<p>re.findall</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&lt;python&gt;&lt;java&gt;&lt;c&gt;&lt;c++&gt;&quot;</span>

<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;&lt;([a-z | \+]+)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="c1"># Out: [&#39;python&#39;, &#39;java&#39;, &#39;c&#39;, &#39;c++&#39;]</span>

<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;&lt;([a-z | \+]+)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="c1"># Out: (&#39;python&#39;,)</span>
</code></pre></div>

<p>案例: 匹配 <code>show interface ip brief</code> 的状态</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># -*- coding=utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Port-channel1.189               192.168.189.254 YES CONFIG up          up&quot;</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(\w.*\d)\s+(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})\s+YES\s+CONFIG\s+(\w+)\s+(\w+)\s*&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-10s</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;接口&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-10s</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;IP地址&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-10s</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;状态&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
</code></pre></div>

<p>案例：Mac 地址</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># -*- coding=utf-8 -*-</span>

<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;166 54a2.74f7.0326    DYNAMIC    Gi1/0/11&quot;</span>

<span class="n">ret</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(\d{1,4})\s+([0-9a-f]</span><span class="si">{4}</span><span class="s1">\.[0-9a-f]</span><span class="si">{4}</span><span class="s1">\.[0-9a-f]</span><span class="si">{4}</span><span class="s1">)\s+DYNAMIC\s+(\w.+\d)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-10s</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;VLAN ID&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-10s</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;Mac Address&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-10s</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;接口&quot;</span><span class="p">,</span> <span class="n">ret</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
</code></pre></div>

<p>案例：打印 Linux 命令</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
<span class="c1">#coding=utf-8</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;ifconfig&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>

<h2 id="_15">五、内置类型：列表与字典<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<h3 id="_16">列表<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>列表属性</p>
<ul>
<li>任意对象的有序集合</li>
<li>通过偏移读取</li>
<li>可变长度，异构以及任意嵌套</li>
<li>属于可变序列的分类</li>
<li>对象引用数组</li>
</ul>
<p>常见列表常量和操作</p>
<p><img alt="image-20200621152624972" src="../_resource/Python%20Basics/image-20200621152624972.png" /></p>
<p><img alt="image-20200621152823066" src="../_resource/Python%20Basics/image-20200621152823066.png" /></p>
<h3 id="_17">字典<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>字典主要属性：</p>
<ul>
<li>通过键而不是偏移量来读取</li>
<li>任意对象的无序集合</li>
<li>可变长，异构，任意嵌套</li>
<li>属于可变映射类型</li>
<li>对象引用表（散列表）</li>
</ul>
<p>字典基本操作</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 创建字典01</span>
<span class="n">dic1</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;java&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>

<span class="c1"># 创建字典02</span>
<span class="n">dic2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">python</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">java</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># zip 创建字典</span>
<span class="n">dic3</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
</code></pre></div>

<p>字典GET &amp; Update：</p>
<p>GET 方法：</p>
<div class="highlight"><pre><span></span><code><span class="n">dic</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">python</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">java</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">ret1</span> <span class="o">=</span> <span class="n">dic</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>

<span class="c1"># 设置无键值， 则默认返回88</span>
<span class="n">ret2</span> <span class="o">=</span> <span class="n">dic</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="mi">88</span><span class="p">)</span>

<span class="n">dic2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">c</span><span class="o">++=</span><span class="s1">&#39;4&#39;</span><span class="p">)</span>

<span class="nb">dict</span> <span class="o">=</span> <span class="n">dic</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dic2</span><span class="p">)</span>
</code></pre></div>

<p>可原处修改</p>
<ul>
<li>键值存在则原处修改，不存在就添加新键值</li>
</ul>
<p>字典解析</p>
<div class="highlight"><pre><span></span><code><span class="n">dic1</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])}</span>

<span class="n">dic2</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]}</span>

<span class="n">dic3</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="mi">4</span> <span class="n">fro</span> <span class="n">x</span> <span class="ow">in</span> <span class="s1">&#39;python&#39;</span><span class="p">}</span>

<span class="n">dic4</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span> <span class="n">x</span> <span class="o">+</span> <span class="s1">&#39;!\ for x in [&#39;</span><span class="n">python</span><span class="s1">&#39;, &#39;</span><span class="n">java</span><span class="s1">&#39;, &#39;</span><span class="n">c</span><span class="s1">&#39;]&#39;</span><span class="p">}</span>
</code></pre></div>

<p>字典注意事项：</p>
<ul>
<li>序列运算无效</li>
<li>对新索引赋值会添加项</li>
<li>键不一定总是字符串（不可改变类型对象都可以）</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">syndos</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">syndos</span><span class="p">[(</span><span class="s1">&#39;202.100.1.1&#39;</span><span class="p">,</span> <span class="s1">&#39;61.128.1.1&#39;</span><span class="p">,</span> <span class="mi">23</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">syndos</span><span class="p">[(</span><span class="s1">&#39;202.100.1.1&#39;</span><span class="p">,</span> <span class="s1">&#39;61.128.1.2&#39;</span><span class="p">,</span> <span class="mi">80</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">syndos</span><span class="p">[(</span><span class="s1">&#39;202.100.1.1&#39;</span><span class="p">,</span> <span class="s1">&#39;61.128.1.3&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">168</span>
</code></pre></div>

<p>案例：把防火墙状态信息表存为字典</p>
<p><img alt="image-20200623112811150" src="../_resource/Python%20Basics/image-20200623112811150.png" /></p>
<h2 id="_18">六、内置类型：元组与文件<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<p>元组属性</p>
<ul>
<li>任意对象的有序集合</li>
<li>通过偏移读取</li>
<li>属于不可变序列</li>
<li>类型固定长度，异构，任何嵌套</li>
<li>对象引用的数组</li>
</ul>
<p>元组常量和运算</p>
<p><img alt="image-20200621162159337" src="../_resource/Python%20Basics/image-20200621162159337.png" /></p>
<p>元组的排序</p>
<p>思路：</p>
<ul>
<li>先转为列表，之后再转换回元组</li>
<li>直接调用 <code>sorted()</code>, 得到排序后的列表返回值， 再转换回元组</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">T</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,)</span>

<span class="n">tmp</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="n">T_sort1</span> <span class="o">=</span> <span class="n">tumple</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="n">T_sort2</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> 
</code></pre></div>

<p>元组的解析</p>
<div class="highlight"><pre><span></span><code><span class="n">T</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">20</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</code></pre></div>

<p>元组的 index() &amp; count()</p>
<div class="highlight"><pre><span></span><code><span class="n">T</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>


<span class="c1"># 获取元素下标</span>
<span class="n">index_num</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> 

<span class="c1"># 偏移量2后面出现2的位置</span>
<span class="n">T</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 计算次数</span>
<span class="n">T</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p>元组内部列表的修改</p>
<h3 id="_19">文件<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>常用文件运算</p>
<p><img alt="image-20200621170011275" src="../_resource/Python%20Basics/image-20200621170011275.png" /></p>
<p>打开文件</p>
<div class="highlight"><pre><span></span><code><span class="n">afile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="n">afile</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</code></pre></div>

<ul>
<li>
<p>The first argument to open，the external filename，may include a platform-specific and absolute or relative directory path prefix.Without a directory path，the file is assumed to exist in the current working directory（i.e.，where the script runs）.</p>
<ul>
<li>第一个参数为文件名，平台特殊的，绝对和相对路径都可以，如果不给目录路径，那文件就在当前工作目录</li>
</ul>
</li>
<li>
<p>The second argument to open，processing mode，is typically the string <strong>'r'</strong> to open for text input （the default），<strong>'w'</strong> to create and open for text output，or <strong>'a'</strong> to open for appending text to the end（e.g，for adding to logfiles）.The processing mode argument can specify additional options：</p>
<ul>
<li>r”读，’w写，a’追加</li>
<li>Adding a b to the mode string allows for binary data（end-of-line translations and 3.X Unicode encodings are turned of）.（'b'为二进制模式）</li>
<li>Adding <code>a +</code> opens the file for both input and output（i.e.，you can both read and write to the same file object，often in conjunction with seek operations to reposition in the file）</li>
<li>“+” 为读写模式，一般与seek操作一起使用</li>
</ul>
</li>
</ul>
<p>使用文件</p>
<ul>
<li>文件迭代器是最好的读取行工具</li>
<li>内容是字符串，不是对象</li>
<li>Close是通常选项</li>
<li>文件是缓存的并且是可查找的</li>
</ul>
<p>文件迭代器</p>
<p>```python\
for line in open("myfile.txt"):
    print(line, end="")
<div class="highlight"><pre><span></span><code>#### 使用 pickle 存储 Python 原生对象

```python
import pickle

# 创建原对象
dict = {&#39;python&#39;: 1, &#39;java&#39;: 2, &#39;c++&#39;: 3}

fi = open(&#39;datafile.pkl&#39;, &#39;wb&#39;)

pickle.dump(dict, fi)
fi.close()

# 还原对象
fi = open(&#39;datafile.pkl&#39;, &#39;rb&#39;)
obj = pickle.load(fi)

print(obj)
</code></pre></div></p>
<h4 id="struct">使用 struct 处理二进制<a class="headerlink" href="#struct" title="Permanent link">&para;</a></h4>
<p><img alt="image-20200621173946772" src="../_resource/Python%20Basics/image-20200621173946772.png" /></p>
<blockquote></blockquote>
<div class="highlight"><pre><span></span><code><span class="n">binfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">struct</span>

<span class="c1"># （高）&#39;&gt;&#39;（低）: 表示网络字节序，即大端模式：高位在左边，低位在右边</span>
<span class="c1"># （低）&#39;&lt;&#39;（高）: 表示主机字节序，即小端模式：低位在左边，高位在右边</span>
<span class="c1"># i: int, 四个字节：7</span>
<span class="c1"># 4s: 4 * 一个字节：spam</span>
<span class="c1"># h: short, 两个字节：8</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&gt;i4sh&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

<span class="n">binfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">binfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1">########updating###########################</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&gt;i4sh&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># 读取</span>
<span class="n">binfl</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">binfl</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">values</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&gt;i4sh&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

<span class="c1">########updating##########################</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fl</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">fl</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&gt;i4sh&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div>

<p>案例：1. 打开某一个目录下的所有文件，搜索文件中有特定关键字的文件。并且把找到的文件清单，通过pickle技术保存到一个本地文件（文件名带上日期）中。</p>
<blockquote>
<p>file_control.py</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="n">file_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">root</span> <span class="o">=</span> <span class="s2">&quot;/root&quot;</span>


<span class="k">for</span> <span class="n">dirpath</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="c1"># 目录路径，目录名，文件名</span>
    <span class="k">for</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
        <span class="n">file_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">filepath</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">file_list</span><span class="p">)</span>

<span class="n">find_file_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
    <span class="n">file_open</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_open</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;.*class.*&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
            <span class="n">find_file_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">find_file_list</span><span class="p">)</span>

<span class="n">final_file_name</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;find_file_name.pkl&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>

<span class="n">L1</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">final_file_name</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">L1</span><span class="p">)</span>
</code></pre></div>

<p>案例：2. 使用 Struct 技术构造 TCP 头部</p>
<p><img alt="image-20200621232408772" src="../_resource/Python%20Basics/image-20200621232408772.png" /></p>
<blockquote>
<p>tcp_header.py</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>

<span class="kn">import</span> <span class="nn">struct</span>

<span class="c1"># 源端口</span>
<span class="n">source_port</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">65535</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">source_port</span><span class="p">))</span>

<span class="c1"># 目的端口</span>
<span class="n">dst_port</span> <span class="o">=</span> <span class="mi">23</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="mi">23</span><span class="p">))</span>

<span class="c1"># 序列号</span>
<span class="n">sn</span> <span class="o">=</span> <span class="n">randin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">65535</span><span class="o">*</span><span class="mi">65535</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>

<span class="c1"># 应答序列号</span>
<span class="n">ack_sn</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># 窗口大小</span>
<span class="n">windows</span> <span class="o">=</span> <span class="mi">4096</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="mi">4096</span><span class="p">))</span>

<span class="c1"># 2244112： </span>
<span class="c1"># 80：0101 0000</span>
<span class="c1"># 2 ：0000 0010</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&gt;HHIBBH&#39;</span><span class="p">,</span> <span class="n">source_port</span><span class="p">,</span> <span class="n">dst_port</span><span class="p">,</span> <span class="n">sn</span><span class="p">,</span> <span class="n">ack_sn</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4096</span><span class="p">)</span>


<span class="n">fl</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>

<span class="n">fl</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">fl</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h2 id="_20">七、语句和语法：赋值<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h2>
<h4 id="python_5">Python 语句<a class="headerlink" href="#python_5" title="Permanent link">&para;</a></h4>
<p><img alt="Python语句01" src="../_resource/Python%20Basics/image-20200623113022314.png" /></p>
<p><img alt="python语句02" src="../_resource/Python%20Basics/image-20200623113100284.png" /></p>
<p>赋值语句</p>
<ul>
<li>赋值语句建立对象引用</li>
<li>变量名在首次赋值时会被创建</li>
<li>变量名在引用前必须先赋值</li>
<li>隐式赋值（例如：导入模块，函数和类）</li>
</ul>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td>spam = 'Spam'</td>
<td>Basic form</td>
</tr>
<tr>
<td>spam, ham = 'yum', 'YUM’'</td>
<td>Tuple assignment(positional)</td>
</tr>
<tr>
<td>[spam, ham] = ['yum', 'YUM']</td>
<td>List assignment(positional)</td>
</tr>
<tr>
<td>a, b, c, d = 'spam'</td>
<td>Sequence assignment, generalized</td>
</tr>
<tr>
<td>a, *b = 'spam'</td>
<td>Extended sequence unpacking(Python 3.x)</td>
</tr>
<tr>
<td>spam = ham = 'lunch'</td>
<td>Multiple-target assignment</td>
</tr>
<tr>
<td>spams += 42</td>
<td>Augmented assignment(equivalent to spams = spams + 42)</td>
</tr>
</tbody>
</table>
<p><img alt="image-20200623113908677" src="../_resource/Python%20Basics/image-20200623113908677.png" /></p>
<p>扩展序列解包</p>
<div class="highlight"><pre><span></span><code><span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">seq</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="c1"># Out: (1, 2, 3, 4)</span>

<span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>
<span class="c1"># Out: x=p, y=ython</span>

<span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;java&quot;</span>
<span class="c1"># Out: x=jav y=a</span>
</code></pre></div>

<p>多重赋值</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 不可变类型</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span><span class="s2">&quot;sz&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">(</span><span class="s1">&#39;sz&#39;</span><span class="p">,</span> <span class="s1">&#39;sz&#39;</span><span class="p">,</span> <span class="s1">&#39;sz&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">(</span><span class="s1">&#39;sz&#39;</span><span class="p">,</span> <span class="s1">&#39;szsz&#39;</span><span class="p">,</span> <span class="s1">&#39;sz&#39;</span><span class="p">)</span>

<span class="c1">############################</span>
<span class="c1"># 可变类型</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">68</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">([</span><span class="mi">68</span><span class="p">],</span> <span class="p">[</span><span class="mi">68</span><span class="p">],</span> <span class="p">[</span><span class="mi">68</span><span class="p">])</span>

<span class="c1"># copy()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">({</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">({</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;sz&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1"># [:], copy()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span>
<span class="p">([</span><span class="mi">23</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[])</span>
</code></pre></div>

<ul>
<li>不可变对象：改一个，其他不变</li>
<li>可变对象：改一个，全部都改变了。</li>
</ul>
<p>增强赋值：</p>
<p><img alt="image-20200625154124011" src="../_resource/Python%20Basics/image-20200625154124011.png" /></p>
<p>变量名规则：</p>
<p>1， 语句：(下划线 +字母) + (任意数目的字母， 数字或下划线)</p>
<p>2， 区分大小写</p>
<p>3，禁止使用保留字：</p>
<p>表达式语句：</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td>spam(eggs, ham)</td>
<td>Function calls</td>
</tr>
<tr>
<td>spam.ham(eggs)</td>
<td>Method calls</td>
</tr>
<tr>
<td>spam</td>
<td>Print vaiables in the interactive interpreter<br>在交互式模式下打印变量</td>
</tr>
<tr>
<td>print(a, b, c, sep="")</td>
<td>Printing operations in Python 3.x</td>
</tr>
<tr>
<td>yield x ** 2</td>
<td>Yielding expression statements</td>
</tr>
</tbody>
</table>
<p>表达式语句和 原处修改:</p>
<p>注意：append() , sort()为内置方法，返回值为None</p>
<div class="highlight"><pre><span></span><code><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="c1"># Out: None</span>
</code></pre></div>

<h2 id="_21">八、语句和语法：打印<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h2>
<h3 id="python30-print">Python3.0 Print函数<a class="headerlink" href="#python30-print" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">([</span><span class="nb">object</span><span class="err">，</span><span class="o">...</span><span class="p">][,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">][</span><span class="err">，</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">][</span><span class="err">，</span><span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">][</span><span class="err">，</span><span class="n">flush</span><span class="o">=</span><span class="kc">False</span><span class="p">])</span>
</code></pre></div>

<ul>
<li>sep is a string inserted between each object's text，which defaults to a single space if not passed；passing an empty string suppresses separators altogether.（分隔符）</li>
<li>end is a string added at the end of the printed text，**which defaults to a <code>\n</code> newline character if not passed. **Passing an empty string avoids dropping down to the next output line at the end of the printed text-the next print will keep adding to the end of the current output line.（结尾符）</li>
<li>
<p>file specifies the file，standard stream，or other file-like object to which the text will be sent；it defaults to the sys.stdout standard output stream if not passed.Any object with a file-like write（string）method may be passed，but real files should be already opened for output.（输出到文件）</p>
</li>
<li>
<p>flush，added in 3.3，<strong>defaults to False</strong>. It allows prints to mandate that their text be flushed through the output stream immediately to any waiting recipients.Normally，whether printed output is buffered in memory or not is determined by file；passing a true value to flush forcibly flushes the stream.（强制输出，默认是False（缓存））</p>
</li>
</ul>
<p>seq选项</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;java&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;c/c++&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="c1"># Out: python [&#39;java&#39;] (&#39;c/c++&#39;)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;!&#39;</span><span class="p">)</span>
<span class="c1"># Out: python![&#39;java&#39;]!(&#39;c/c++&#39;)</span>
</code></pre></div>

<p>end 选项</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;java&#39;</span><span class="p">]</span>
<span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;c/c++&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="c1"># Out: python [&#39;java&#39;] (&#39;c/c++&#39;)</span>
<span class="c1"># Out: python [&#39;java&#39;] (&#39;c/c++&#39;)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;!!!&#39;</span><span class="p">)</span>
<span class="c1"># Out: python [&#39;java&#39;] (&#39;c/c++&#39;)!!!python [&#39;java&#39;] (&#39;c/c++&#39;)</span>
</code></pre></div>

<p>file选项</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;!!!&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</code></pre></div>

<p>Print 的字符串工具</p>
<ul>
<li><code>''%()</code> &amp;&amp; <code>.format()</code></li>
</ul>
<p>stdout:</p>
<ul>
<li><code>print()</code> 语句是Python的个性化特征，提供了sys.stdout对象的简单接口。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;welcome to python</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>

<p>自动化流重定向</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">tmp</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>

<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;log.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Here is a test txt log for sys.out.&quot;</span><span class="p">)</span>

<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;print testing on screen&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;log.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="c1"># Out: Here is a test txt log for sys.out.</span>
</code></pre></div>

<h2 id="if">九、语句和语法：<code>if</code> 语句<a class="headerlink" href="#if" title="Permanent link">&para;</a></h2>
<p>IF/else 语句</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">test1</span><span class="p">:</span>  <span class="c1"># if test</span>
    <span class="n">statements1</span>  <span class="c1"># Associated block</span>
<span class="k">elif</span> <span class="n">test2</span><span class="p">:</span>  <span class="c1"># Optional elifs</span>
    <span class="n">statements2</span>
<span class="k">else</span><span class="p">:</span>  <span class="c1"># Optional else</span>
    <span class="n">statements3</span>
</code></pre></div>

<p>Python 语法规则：</p>
<ul>
<li>语句是逐个运行的，除非你不这样编写。<ul>
<li>复合语句 = 首行+‘：’+ 缩进语句</li>
</ul>
</li>
<li>语句执行时，空白行、空格以及注释通常会被忽略<ul>
<li>而文档字符串（docstring）也会被忽略，但会被保存并可调用魔法方法进行显示</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function documentation:    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>


<span class="nb">print</span><span class="p">(</span><span class="n">square</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
</code></pre></div>

<p>通过缩进来决定块</p>
<ul>
<li>
<p>块和语句的边界会自动检测</p>
</li>
<li>
<p>避免混合使用制表符和空格</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">#Block0###################</span>
<span class="c1">#Header-line##############</span>
    <span class="c1">#Block1###############</span>
    <span class="c1">#Header-line##########</span>
        <span class="c1">#Block2###########</span>
    <span class="c1">#Block1###############</span>
<span class="c1">#Block0###################</span>
</code></pre></div>

<p>If/else 三元表达式</p>
<div class="highlight"><pre><span></span><code>if x:
    A = Y
else:
    A = Z

# 即：
A = Y if X else Z
</code></pre></div>

<h2 id="whilefor">十、语句和语法：<code>while``for</code>循环<a class="headerlink" href="#whilefor" title="Permanent link">&para;</a></h2>
<p>一般格式：</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="n">test</span><span class="p">:</span>  <span class="c1"># Loop test</span>
    <span class="n">statements</span>  <span class="c1"># Loop body</span>
<span class="k">else</span><span class="p">:</span>  <span class="c1"># Optional esle</span>
    <span class="n">statements</span>  <span class="c1"># Run if didn&#39;t exit loop with break</span>
</code></pre></div>

<p>Break, Continue, pass &amp; 循环else:</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="n">test</span><span class="p">:</span>
    <span class="n">statements</span>
    <span class="k">if</span> <span class="n">test</span><span class="p">:</span>
        <span class="k">break</span>  <span class="c1"># Exit loop now, skip else if present</span>
    <span class="k">if</span> <span class="n">test</span><span class="p">:</span>
        <span class="k">continue</span>  <span class="c1"># Go to top of loop now, to test1</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="n">statements</span>  <span class="c1"># Run if we didn&#39;t hit a &#39;break&#39;</span>
</code></pre></div>

<ul>
<li>
<p>break（跳出循环）</p>
<ul>
<li>Jumps out of the closest enclosing loop（past the entire loop statement）</li>
</ul>
</li>
<li>
<p>continue（强制进入下一循环，忽略后面的语句）</p>
<ul>
<li>Jumps to the top of the closest enclosing loop（to the loop's header line）</li>
</ul>
</li>
<li>
<p>pass（什么事情都不做，会继续执行后面的语句）</p>
<ul>
<li>Does nothing at all</li>
<li>it's an empty statement placeholder </li>
</ul>
</li>
<li>
<p>Loop else block（如果循环没有遇到了Break，正常退出，就执行else语句）</p>
<ul>
<li>Runs if and only if the loop is exited normally（i.e，without hitting a break）</li>
</ul>
</li>
<li>
<p>无限循环：</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>  <span class="c1"># Type Ctrl-c to stop me!</span>
    <span class="k">pass</span>
</code></pre></div>

<p>For 循环一般格式：</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="nb">object</span><span class="p">:</span>  <span class="c1"># Asssign objcet items to target</span>
    <span class="n">statements</span>
    <span class="k">if</span> <span class="n">test</span><span class="p">:</span>  
        <span class="k">break</span>  <span class="c1"># Exit loop now, skip else</span>
    <span class="k">if</span> <span class="n">test</span><span class="p">:</span>
        <span class="k">continue</span>  <span class="c1"># Go to top of loop now</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># 没有遇到 break 正常退出，才能执行else语句</span>
    <span class="n">statement</span>  <span class="c1"># If we didn&#39;t a &#39;break&#39;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;java&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c/c++&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="err">：</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</code></pre></div>

<p>练习</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 找出 items &amp; tests 中两个清单中相同的内容</span>
<span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aaa&#39;</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mf">2.01</span><span class="p">]</span>
<span class="n">tests</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bbb&#39;</span><span class="p">,</span> <span class="mi">333</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>

<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">items</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>

<h2 id="python_6">十一、Python函数<a class="headerlink" href="#python_6" title="Permanent link">&para;</a></h2>
<h3 id="what">What<a class="headerlink" href="#what" title="Permanent link">&para;</a></h3>
<p>一个函数就是将一些语句集合在一起的部件，他们能够不止一次地在程序中运行。函数还能够计算出一个返回值，并能够改变作为函数输入的参数，而这些参数在代码运行时也许每次都不相同。以函数的形式去编写一个操作可以使它成为一个够广泛应用的工具，让我们在不同的情况下能够使用它。</p>
<ul>
<li>最大化的代码重用和最小化的代码冗余</li>
<li>流程的分解</li>
</ul>
<h3 id="_22">函数相关的语句和表达式<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p><img alt="image-20200625191150025" src="../_resource/Python%20Basics/image-20200625191150025.png" /></p>
<p><code>def</code> 语句格式：</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">args2</span><span class="p">,</span> <span class="o">...</span><span class="n">args</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>

<p>案例：</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">times</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
</code></pre></div>

<ul>
<li>Python多态：参数传入时不进行类型检查</li>
<li>因此，此函数支持所有能够 <code>*</code> 操作的对象</li>
<li><code>*</code> 针对正在被处理的对象进行随机应变</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">intersect</span><span class="p">(</span><span class="n">seq1</span><span class="p">,</span> <span class="n">seq2</span><span class="p">):</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">seq1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">seq2</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="c1"># o1</span>
<span class="n">s1</span> <span class="o">=</span> <span class="s1">&#39;SPAM&#39;</span>
<span class="n">s2</span> <span class="o">=</span> <span class="s1">&#39;SCAM&#39;</span>
<span class="n">intersect</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
<span class="c1"># Out: [&#39;S&#39;, &#39;A&#39;, &#39;M&#39;]</span>

<span class="c1"># o2</span>
<span class="n">i1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">i2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">intersect</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="n">i2</span><span class="p">)</span>
<span class="c1"># Out: [4]</span>
</code></pre></div>

<p>作用域</p>
<ul>
<li>
<p><code>global A</code></p>
</li>
<li>
<p>global</p>
<ul>
<li>全局变量位于模块文件内部的顶层的变量名</li>
<li>全局变量如果是在函数内被赋值的话，必须经过声明</li>
<li>全局变量名在函数的内部不经过声明也可以被引用</li>
</ul>
</li>
</ul>
<p>传递参数</p>
<ul>
<li>参数的传递通过自动将**对象赋值给本地变量名**来实现</li>
<li>函数内部的参数名的赋值不会影响调用者</li>
<li>改变函数的可变对象参数的值也许会对调用者有影响<ul>
<li>不可变参数通过**值**进行传递</li>
<li>可变对象的通过**指针**进行传递</li>
</ul>
</li>
</ul>
<p>函数参数匹配表</p>
<p><img alt="image-20200625191320379" src="../_resource/Python%20Basics/image-20200625191320379.png" /></p>
<table>
<thead>
<tr>
<th>Syntax</th>
<th>Location</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="c1"># 定义默认参数</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># 定义不定参数</span>
<span class="c1"># *args: 元组的方式</span>
<span class="c1"># **kwargs: 使用映射关系的字典方式</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># 传递参数</span>
<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">l</span><span class="p">)</span>

<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
</code></pre></div>

<h2 id="python_7">十二、Python模块<a class="headerlink" href="#python_7" title="Permanent link">&para;</a></h2>
<h3 id="why">why<a class="headerlink" href="#why" title="Permanent link">&para;</a></h3>
<ul>
<li>代码重用</li>
<li>系统命名空间的划分<ul>
<li>精确导入才能看到另外一个文件中的变量名</li>
</ul>
</li>
<li>实现共享服务和数据</li>
</ul>
<h3 id="_23">模块搜索路径<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>程序本地目录</p>
</li>
<li>
<p>PYTHONPATH（环境变量）目录</p>
<ul>
<li>
<p>Liunux 默认没有环境变量目录</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 设置环境变量</span>
<span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=/</span><span class="n">root</span>

<span class="c1"># 查看环境变量</span>
<span class="n">env</span>
</code></pre></div>

</li>
</ul>
</li>
<li>
<p>标准链接库目录</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># 罗列所有变量目录</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span>
</code></pre></div>

</li>
<li>
<p>位于以上三个路径中的任何.pth文件的内容</p>
<blockquote>
<p>file.pth</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">lib</span>
<span class="o">/</span><span class="n">xxx</span><span class="o">/</span><span class="n">xxxx</span>
</code></pre></div>

<blockquote>
<p>注意：先搜索目录中的文件，将覆盖路径上其他目录中具有相同名字的模块</p>
</blockquote>
</li>
</ol>
<p>创建模块</p>
<ul>
<li>
<p>任何以  <code>.py</code> 为后缀名的文件均被自动认为Python 模块</p>
</li>
<li>
<p>在模块顶层指定的所有变量名都会变成其属性(与模块对象结合的变量名), 并可以导出到供客户端使用</p>
</li>
</ul>
<p>导入模块: 导入函数，变量</p>
<ul>
<li>import module1</li>
<li>from module_name import method<ul>
<li>from module_name import *</li>
</ul>
</li>
<li>from path1.path2.module_name import func/</li>
</ul>
<p>模块 reload</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">imp</span> <span class="kn">import</span> <span class="n">reload</span>

<span class="n">reload</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
</code></pre></div>

<p><code>if __name__ == '__main__'</code></p>
<p>模块是对象，并且所有的模块都有一个内置属性<code>__name__</code>。一个模块的<code>__name_</code>属性取决于您如何应用模块。</p>
<ul>
<li>若import一个模块，那么模块<code>__name__</code>的属性值通常为模块文件名，不带路径或者文件扩展名。</li>
<li>若直接运行模块，<code>__name__</code>的属性值将是一个特别缺省 <code>__main__</code>。</li>
</ul>
<h2 id="python_8">十三、Python类<a class="headerlink" href="#python_8" title="Permanent link">&para;</a></h2>
<p>程序的两种设计思路：</p>
<ol>
<li>面向过程 - 战术型，自动化脚本： 做事</li>
<li>面向对象 - 战略型，程序： 做东西</li>
</ol>
<p>面向对象优势</p>
<p>程序就是“用一些东西来做事”！简而言之，类就是一种定义新种类的方法。OOP被证明在两个方面上很有用处。</p>
<ol>
<li>继承</li>
<li>组合</li>
</ol>
<p>类的独到之处</p>
<ol>
<li>通过继承进行定制<ul>
<li>类支持OOP的继承，可以在类的外部重新定义其属性从而扩展这个类</li>
</ul>
</li>
<li>多重实例<ul>
<li>类基本上就是生产对象的工厂，每次调用一个类，就会产生一个有独立命名空间的新对象。</li>
<li>每一个由类产生的对象都能读取类的属性，并获得自己的命名空间来存储数据，这些数据对于每一个对象来说都不同</li>
</ul>
</li>
<li>运算符重载<ul>
<li>通过提供特定的协议方法，类可以定义对象来响应在内置类型上的几种运算。例如，通过类创建的对象可以进行切分，级联和索引等运算</li>
</ul>
</li>
</ol>
<p>案例：开发工资系统</p>
<blockquote>
<p>employee.py</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Employee</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="n">slef</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">depart</span><span class="p">,</span> <span class="n">money</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpart</span> <span class="o">=</span> <span class="n">depart</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">money</span> <span class="o">=</span> <span class="n">money</span>

    <span class="k">def</span> <span class="nf">raise_money</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">add_money</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">money</span> <span class="o">+=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="n">add_money</span>

    <span class="k">def</span> <span class="nf">raise_money_plus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">money</span> <span class="o">*=</span> <span class="mi">1</span><span class="o">+</span><span class="n">percent</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;name: </span><span class="si">%s</span><span class="s2">, money: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">money</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">attr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">attr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;职务： </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">__name___</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">attr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> = </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">)))</span>

        <span class="n">attr_str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">attr_str</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">bob</span> <span class="o">=</span> <span class="n">employee</span><span class="p">(</span><span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;sec&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">bob</span><span class="o">.</span><span class="n">raise_money</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">bob</span><span class="o">.</span><span class="n">raise_money_plus</span><span class="p">()</span>
</code></pre></div>

<h2 id="python_9">十四、Python多线程与多进程<a class="headerlink" href="#python_9" title="Permanent link">&para;</a></h2>
<p>线程与进程：</p>
<ul>
<li>包含关系：<ul>
<li>线程是进程内的一个执行单元，也是进程内的可调度实体。</li>
<li>线程是处理器调度的基本单位，每个进程至少有一个线程；</li>
</ul>
</li>
<li>地址空间：<ul>
<li>进程有自己独立的地址空间</li>
<li>线程是进程内的一个执行单元；它们共享进程的地址空间</li>
</ul>
</li>
<li>资源分配：<ul>
<li>进程是资源分配和拥有的单位</li>
<li>同一个进程内的线程共享进程的资源。</li>
</ul>
</li>
<li>
<p>二者均可并发执行。</p>
</li>
<li>
<p>一个程序至少有一个进程，一个进程至少有一个线程.</p>
</li>
<li>线程的划分尺度小于进程，使得多线程程序的并发性高。</li>
<li>另外，进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。<ul>
<li>减少了上下文的切换</li>
</ul>
</li>
</ul>
<p>一个比较有趣的介绍：
<a href="http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html">http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html</a></p>
<p>案例：</p>
<blockquote>
<p>multiprocessingTest.py</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1"># coding=utf-8</span>
<span class="kn">import</span> <span class="nn">time</span>


<span class="k">def</span> <span class="nf">abk_multi</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span>

        <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">None</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">abk_multi</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</code></pre></div>

<blockquote>
<p>multiprocessingDemo.py</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1"># coding=utf-8</span>
<span class="kn">from</span> <span class="nn">multiprocessingTest</span> <span class="kn">import</span> <span class="n">abk_multi</span>
<span class="kn">import</span> <span class="nn">multiprocessing</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">processes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">exit_code</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
        <span class="n">multi_test</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">abk_multi</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
        <span class="n">multi_test</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="n">processes</span><span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)]</span> <span class="o">=</span> <span class="n">multi_test</span>
        <span class="c1"># 初始值</span>
        <span class="n">exit_code</span><span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">66</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">processes</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">ALLDONE</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;clear&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">processes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">exitcode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">exit_code</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-20s</span><span class="s2"> 计算结束&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-20s</span><span class="s2"> 还在计算中...&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">exit_code</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">ALLDONE</span> <span class="o">+=</span> <span class="n">val</span>

        <span class="k">if</span> <span class="n">ALLDONE</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;clear&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;全部计算结束！！！&quot;</span><span class="p">)</span>
            <span class="k">break</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>

<h2 id="python_10">十五、Python异常处理<a class="headerlink" href="#python_10" title="Permanent link">&para;</a></h2>
<h3 id="tryexceptelse">try/except/else 语句<a class="headerlink" href="#tryexceptelse" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="n">statements</span>  <span class="c1"># Run this main action first</span>
<span class="k">except</span> <span class="n">name1</span><span class="p">:</span>
    <span class="n">statements</span>  <span class="c1"># Run if name1 is raised during try block</span>
<span class="k">except</span> <span class="p">(</span><span class="n">name2</span><span class="p">,</span> <span class="n">name3</span><span class="p">):</span>
    <span class="n">statements</span>  <span class="c1"># Run if any of these exception occur</span>
<span class="k">except</span> <span class="n">name4</span> <span class="k">as</span> <span class="n">var</span><span class="p">:</span>
    <span class="n">statements</span>  <span class="c1"># Run if name4 is raised, assign instance raised to var</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">statements</span>  <span class="c1"># Run for all other exceptions raised</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">statements</span>  <span class="c1"># Run if no exception was raised during try block</span>
</code></pre></div>

<p>try 语句分局形式</p>
<table>
<thead>
<tr>
<th>Clause from</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td>except</td>
<td>Catch all (or all other) exception types</td>
</tr>
<tr>
<td>except name</td>
<td>Catch a specific exception only</td>
</tr>
<tr>
<td>except name as value</td>
<td>Catch the listed exception and assign its instance</td>
</tr>
<tr>
<td>except (name1, name2)</td>
<td>Catch any of the listed exceptions</td>
</tr>
<tr>
<td>except (name1, name2) as value</td>
<td>Catch any listed excepotion and assign its instance</td>
</tr>
<tr>
<td>else</td>
<td>Run if no exception are raised in the try block<br>如果没有任何异常被触发，那么就执行else语句</td>
</tr>
<tr>
<td>finally</td>
<td>Always perform this block on exit<br>不论任何情况，总是执行finally语句</td>
</tr>
</tbody>
</table>
<p>案例：</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
<span class="c1"># coding=utf-8</span>

<span class="kn">import</span> <span class="nn">re</span>


<span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">find_index</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;.* &#39;int&#39; object is not subscriptable&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;整数对象不支持索引&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;.* string indices must be integers&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;索引必须是整数对象&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;没有任何错误～&quot;</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;总会执行～&quot;</span><span class="p">)</span>
</code></pre></div>

<p><code>except</code> vs <code>except Exception:</code></p>
<ul>
<li><code>except:</code> 包含一些系统错误，包括 <code>Ctrl + c</code> 都可以直接捕获而不提示错误。</li>
<li><code>except Exception:</code> 推荐使用，且此时捕获的为除系统错误之外的程序异常。</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../../assets/javascripts/bundle.4a5ba8d6.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9b3611bd.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>